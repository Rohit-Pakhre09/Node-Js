# Employee Management System API

[![Node.js](https://img.shields.io/badge/Node.js-18.x-339933?style=flat&logo=node.js)](https://nodejs.org/)
[![Express.js](https://img.shields.io/badge/Express.js-5.x-000000?style=flat&logo=express)](https://expressjs.com/)
[![MongoDB](https://img.shields.io/badge/MongoDB-7.x-47A248?style=flat&logo=mongodb)](https://www.mongodb.com/)
[![dotenv](https://img.shields.io/badge/dotenv-17.x-ECD53F?style=flat)](https://www.npmjs.com/package/dotenv)

A comprehensive RESTful API built with Node.js and Express.js for managing employee data in a MongoDB database. This system provides full CRUD operations, advanced search capabilities, and robust data validation to ensure data integrity and prevent duplicates.

## üöÄ Features

- **Complete CRUD Operations**: Full Create, Read, Update, Delete functionality for employee records
- **Advanced Search**: Global search across all employee fields and specific field-based queries
- **Data Integrity**: Automatic validation to prevent duplicate entries based on email and employee ID
- **Robust Error Handling**: Detailed error messages and appropriate HTTP status codes
- **MongoDB Native Driver**: Direct integration with MongoDB for optimal performance
- **Environment Configuration**: Secure configuration management using dotenv
- **Modular Architecture**: Clean separation of concerns with dedicated database and route handlers

## üõ† Tech Stack

- **Runtime**: Node.js v18.x
- **Web Framework**: Express.js v5.x
- **Database**: MongoDB v7.x with Native Driver
- **Configuration**: dotenv v17.x
- **Package Manager**: npm

## üìã Prerequisites

- Node.js (version 18.x or higher)
- MongoDB (local installation or cloud service like MongoDB Atlas)
- npm package manager

## üîß Installation & Setup

1. **Clone the Repository**
   ```bash
   git clone <your-repository-url>
   cd mongoDB-native-driver
   ```

2. **Install Dependencies**
   ```bash
   npm install
   ```

3. **Environment Configuration**
   Create a `.env` file in the root directory:
   ```
   # Add your MongoDB connection string here
   MONGODB_URI=your_mongodb_connection_string_here
   ```

4. **Start the Server**
   ```bash
   npm start
   ```

   The API will be available at `http://localhost:3000`

## üìö API Reference

### Base URL
```
http://localhost:PORT/api
```

### Endpoints Overview

| Method | Endpoint | Description | Parameters/Body |
|--------|----------|-------------|-----------------|
| **GET** | `/` | Retrieve all employee records | None |
| **GET** | `/search` | Search employees globally or by specific fields | Query: `?q=search_term` or `?field=value` |
| **GET** | `/:id` | Get a specific employee by ID | Path: `id` (employee ID) |
| **POST** | `/post` | Create a new employee record | Body: Employee JSON object |
| **PATCH** | `/update/:id` | Update specific fields of an employee | Path: `id`, Body: Fields to update |
| **PUT** | `/update/:id` | Replace entire employee record | Path: `id`, Body: Complete employee object (excludes _id) |
| **DELETE** | `/delete/:id` | Delete an employee record | Path: `id` (employee ID) |

### üìã Employee Data Structure

All employee records follow this JSON structure:

```json
{
  "_id": "ObjectId", // Auto-generated by MongoDB
  "emp_id": "string", // Unique employee identifier
  "fullName": "string",
  "email": "string",
  "phone": "string",
  "age": "number",
  "gender": "string",
  "department": "string",
  "role": "string",
  "salary": "number",
  "joiningDate": "string", // Format: YYYY-MM-DD
  "status": "string" // e.g., "Active", "Inactive"
}
```

### üîç Search Functionality

The search endpoint supports two types of queries:

1. **Global Search**: `/search?q=term` - Searches across all employee fields
2. **Field-Specific Search**: `/search?field=value` - Searches within a specific field

**Examples:**
- Global: `/search?q=Developer`
- By role: `/search?role=Software Developer`
- By department: `/search?department=IT`

### ‚ö†Ô∏è Important Notes

- **Duplicate Prevention**: The system prevents creating employees with duplicate `email` or `emp_id`
- **Immutable _id**: MongoDB's `_id` field cannot be updated via PUT requests
- **Validation**: All required fields must be provided when creating new employees
- **Error Responses**: Failed operations return JSON with error details and appropriate HTTP status codes

## Data Model

Each employee record contains the following fields:

- `emp_id` (String): Unique employee ID
- `fullName` (String): Employee's full name
- `email` (String): Employee's email address
- `phone` (String): Phone number
- `age` (Number): Age
- `gender` (String): Gender
- `department` (String): Department
- `role` (String): Job role
- `salary` (Number): Salary
- `joiningDate` (String): Joining date (YYYY-MM-DD format)
- `status` (String): Employment status

## Error Handling

The API returns appropriate HTTP status codes and error messages:

- `200`: Success
- `201`: Created
- `400`: Bad Request
- `404`: Not Found
- `500`: Internal Server Error

Error responses include a JSON object with an `Error` field containing the error message.

## Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## Contact

For questions or support, please open an issue in the repository.